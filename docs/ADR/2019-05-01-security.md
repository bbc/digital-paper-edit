# [short title of solved problem and solution]

* Status: pending
* Deciders: Pietro, Ben (InfoSec)
* Date: 2019-05-01

Technical Story: https://github.com/bbc/digital-paper-edit/issues/1

## Context and Problem Statement

These are notes based on the InfoSec meeting held on the 30th of May 2019.

## Decision Drivers <!-- optional -->

* Ease of use for journalists when system authenticates them
* Security levels (public, protect, or restrict)
* Data retention based on inactivty

## Considered Options

### Authentication

Cert-based authentication is fine for now. We might need to move to BBC Login
(SSO). This will make it easier for journalists to access the system. When
there's a mobile version, it will simplify using the system as well, as it's an
extra step to install certs into mobile devices.

### Data Retention Period

- data retention - 90 days of inactivity

This could be too long since people will use the service in bursts.

### Levels of Security
- for security there are public, protect, restrict (policy on gateway) <-- we are aiming for *protect*, electron app that does STT offline for *restrict*.

- encrypt S3 (encrypts bucket not file inside it)
    - Not a public bucket
    - cloud front + S3 to do signed URL
    (cloud front, does the signed url + certificate and server redirect )

### Fronting technology
Some example of how @Ben Thornton had done it in the past
    - https://confluence.dev.bbc.co.uk/display/mdm/AWS+setup
    - https://confluence.dev.bbc.co.uk/display/mdm/Apache+Configuration
    - https://confluence.dev.bbc.co.uk/display/mdm/Generating+Signed+Cookies%3A+Not+implemented+-+does+not+work

- RDS - Encrypt option (one click in AWS, encrypts db, not entry, for protected that’s fine, for restricted, entries would need to be encrypted)

- use AIM policies to go between VPC
- or use different subnets

- sudgested adding a load balancer/cloud front, in front of EC2 that serves :react:
    - then VPC
        - subnet for UI
        - Subnet for UI + API to communicate
        - services and resources on an other natgateway subnet

Use different subnets, to talk to each other to layer it
all in the same VPC or different VPCs
(eg can do either VPC separation or subnet separation)

## Decision Outcome

Chosen option: "[option 1]", because [justification. e.g., only option, which meets k.o. criterion decision driver | which resolves force force | … | comes out best (see below)].

### Positive Consequences <!-- optional -->

* [e.g., improvement of quality attribute satisfaction, follow-up decisions required, …]
* …

### Negative consequences <!-- optional -->

* [e.g., compromising quality attribute, follow-up decisions required, …]
* …

## Pros and Cons of the Options <!-- optional -->

### [option 1]

[example | description | pointer to more information | …] <!-- optional -->

* Good, because [argument a]
* Good, because [argument b]
* Bad, because [argument c]
* … <!-- numbers of pros and cons can vary -->

### [option 2]

[example | description | pointer to more information | …] <!-- optional -->

* Good, because [argument a]
* Good, because [argument b]
* Bad, because [argument c]
* … <!-- numbers of pros and cons can vary -->

### [option 3]

[example | description | pointer to more information | …] <!-- optional -->

* Good, because [argument a]
* Good, because [argument b]
* Bad, because [argument c]
* … <!-- numbers of pros and cons can vary -->

## Links <!-- optional -->

* [Link type] [Link to ADR] <!-- example: Refined by [ADR-0005](0005-example.md) -->
* … <!-- numbers of links can vary -->
